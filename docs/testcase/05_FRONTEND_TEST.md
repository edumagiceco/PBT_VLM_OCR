# Frontend UI 테스트 케이스

## 1. 개요

Next.js 기반 프론트엔드 UI에 대한 테스트 케이스입니다. 사용자 인터페이스, 인터랙션, 반응형 디자인을 검증합니다.

---

## 2. 페이지 로딩 테스트

### TC-UI-LOAD-001: 메인 페이지 로딩

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-LOAD-001 |
| 테스트명 | 메인 페이지 정상 로딩 |
| 우선순위 | Critical |
| 사전조건 | Frontend 서비스 실행 중 |

**테스트 절차:**
1. 브라우저에서 http://localhost:3000 접속
2. 페이지 로딩 완료 확인

**예상 결과:**
- 페이지 정상 표시
- 로딩 시간 < 3초
- 콘솔 에러 없음

---

### TC-UI-LOAD-002: 문서 목록 페이지 로딩

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-LOAD-002 |
| 테스트명 | 문서 목록 페이지 로딩 |
| 우선순위 | Critical |
| 사전조건 | 등록된 문서 존재 |

**테스트 절차:**
1. http://localhost:3000/documents 접속
2. 문서 목록 표시 확인

**예상 결과:**
- 문서 목록 정상 표시
- 각 문서 카드 정보 표시 (파일명, 상태, OCR 모드)
- 페이지네이션 동작

---

### TC-UI-LOAD-003: 문서 상세 페이지 로딩

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-LOAD-003 |
| 테스트명 | 문서 상세/검토 페이지 로딩 |
| 우선순위 | Critical |
| 사전조건 | OCR 처리된 문서 존재 |

**테스트 절차:**
1. http://localhost:3000/documents/{id} 접속
2. 페이지 레이아웃 확인

**예상 결과:**
- 3-column 레이아웃 (페이지 목록, 이미지 뷰어, 텍스트 편집기)
- 문서 이미지 정상 표시
- OCR 텍스트 표시

---

### TC-UI-LOAD-004: 큐 페이지 로딩

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-LOAD-004 |
| 테스트명 | 작업 큐 페이지 로딩 |
| 우선순위 | High |
| 사전조건 | - |

**테스트 절차:**
1. http://localhost:3000/queue 접속
2. 큐 상태 표시 확인

**예상 결과:**
- 각 OCR 큐 상태 표시 (FAST, ACCURATE, PRECISION)
- 대기 중인 작업 수 표시
- 실시간 업데이트

---

## 3. 문서 업로드 테스트

### TC-UI-UP-001: 파일 선택 업로드

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-UP-001 |
| 테스트명 | 파일 선택을 통한 문서 업로드 |
| 우선순위 | Critical |
| 사전조건 | 업로드할 PDF 파일 준비 |

**테스트 절차:**
1. 메인 페이지 접속
2. "파일 선택" 버튼 클릭
3. PDF 파일 선택
4. OCR 모드 선택
5. "업로드" 버튼 클릭

**예상 결과:**
- 파일 선택 다이얼로그 표시
- 선택한 파일명 표시
- 업로드 진행률 표시
- 업로드 완료 메시지

---

### TC-UI-UP-002: 드래그 앤 드롭 업로드

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-UP-002 |
| 테스트명 | 드래그 앤 드롭으로 문서 업로드 |
| 우선순위 | High |
| 사전조건 | - |

**테스트 절차:**
1. 메인 페이지 접속
2. PDF 파일을 드롭존에 드래그
3. 드롭존 하이라이트 확인
4. 파일 드롭

**예상 결과:**
- 드롭존 하이라이트 표시
- 파일 정보 표시
- 업로드 자동 시작 또는 확인 버튼

---

### TC-UI-UP-003: OCR 모드 선택

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-UP-003 |
| 테스트명 | OCR 모드 선택 UI |
| 우선순위 | High |
| 사전조건 | - |

**테스트 절차:**
1. 업로드 폼에서 OCR 모드 선택 UI 확인
2. 각 모드 선택

**예상 결과:**
- 3가지 모드 표시:
  - 기본(CPU) - Tesseract
  - 고급(CPU) - PaddleOCR
  - 프리미엄(GPU) - VLM
- 각 모드 설명 툴팁

---

### TC-UI-UP-004: 업로드 유효성 검사

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-UP-004 |
| 테스트명 | 파일 업로드 유효성 검사 |
| 우선순위 | High |
| 사전조건 | - |

**테스트 케이스:**
| 입력 | 예상 결과 |
|------|----------|
| 파일 미선택 | "파일을 선택해주세요" 에러 |
| 지원하지 않는 형식 (.exe) | "지원하지 않는 파일 형식" 에러 |
| 너무 큰 파일 (>100MB) | "파일 크기 초과" 에러 |

---

### TC-UI-UP-005: 업로드 진행률 표시

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-UP-005 |
| 테스트명 | 파일 업로드 진행률 표시 |
| 우선순위 | Medium |
| 사전조건 | 대용량 파일 준비 |

**테스트 절차:**
1. 대용량 PDF 파일 업로드
2. 진행률 바 확인

**예상 결과:**
- 진행률 바 표시 (0% → 100%)
- 업로드 중 취소 버튼
- 완료 시 성공 메시지

---

## 4. 문서 목록 테스트

### TC-UI-LIST-001: 문서 카드 표시

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-LIST-001 |
| 테스트명 | 문서 카드 정보 표시 |
| 우선순위 | High |
| 사전조건 | 등록된 문서 존재 |

**테스트 절차:**
1. 문서 목록 페이지 접속
2. 문서 카드 정보 확인

**예상 결과:**
각 카드에 표시:
- 파일명
- 업로드 날짜
- 페이지 수
- OCR 모드 (기본/고급/프리미엄)
- 처리 상태 (대기/처리중/완료/실패)
- 신뢰도 점수

---

### TC-UI-LIST-002: 상태별 필터링

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-LIST-002 |
| 테스트명 | 문서 상태별 필터링 |
| 우선순위 | Medium |
| 사전조건 | 다양한 상태의 문서 존재 |

**테스트 절차:**
1. 상태 필터 선택 (전체/대기/처리중/완료/실패)
2. 필터링 결과 확인

**예상 결과:**
- 선택한 상태의 문서만 표시
- 필터 해제 시 전체 문서 표시

---

### TC-UI-LIST-003: 정렬 기능

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-LIST-003 |
| 테스트명 | 문서 목록 정렬 |
| 우선순위 | Medium |
| 사전조건 | 여러 문서 존재 |

**테스트 절차:**
1. 정렬 옵션 선택 (최신순/오래된순/이름순)
2. 정렬 결과 확인

**예상 결과:**
- 선택한 기준으로 정렬
- 기본값: 최신순

---

### TC-UI-LIST-004: 페이지네이션

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-LIST-004 |
| 테스트명 | 문서 목록 페이지네이션 |
| 우선순위 | Medium |
| 사전조건 | 20개 이상 문서 존재 |

**테스트 절차:**
1. 문서 목록 페이지 접속
2. 페이지 번호 클릭
3. 다음/이전 버튼 클릭

**예상 결과:**
- 페이지당 문서 수 제한 (예: 10개)
- 페이지 번호 표시
- 페이지 전환 시 목록 업데이트

---

### TC-UI-LIST-005: 문서 삭제

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-LIST-005 |
| 테스트명 | 문서 삭제 기능 |
| 우선순위 | High |
| 사전조건 | 삭제할 문서 존재 |

**테스트 절차:**
1. 문서 카드의 삭제 버튼 클릭
2. 확인 다이얼로그 표시
3. 삭제 확인

**예상 결과:**
- 삭제 확인 다이얼로그 표시
- 확인 시 문서 삭제
- 목록에서 즉시 제거
- 성공 메시지 표시

---

## 5. 문서 뷰어 테스트

### TC-UI-VIEW-001: 이미지 뷰어 표시

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-VIEW-001 |
| 테스트명 | 문서 이미지 뷰어 |
| 우선순위 | Critical |
| 사전조건 | OCR 처리된 문서 존재 |

**테스트 절차:**
1. 문서 상세 페이지 접속
2. 이미지 뷰어 확인

**예상 결과:**
- 문서 이미지 정상 표시
- 이미지 로딩 인디케이터
- 에러 시 대체 메시지

---

### TC-UI-VIEW-002: 줌 기능

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-VIEW-002 |
| 테스트명 | 이미지 줌 인/아웃 |
| 우선순위 | High |
| 사전조건 | 문서 이미지 표시 중 |

**테스트 절차:**
1. 줌 인(+) 버튼 클릭
2. 줌 아웃(-) 버튼 클릭
3. 너비 맞춤 버튼 클릭
4. 높이 맞춤 버튼 클릭

**예상 결과:**
- 줌 레벨 표시 (예: 150%)
- 너비 맞춤: 컨테이너 너비에 맞춤
- 높이 맞춤: 컨테이너 높이에 맞춤
- 최소/최대 줌 제한

---

### TC-UI-VIEW-003: 페이지 네비게이션

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-VIEW-003 |
| 테스트명 | 페이지 간 이동 |
| 우선순위 | High |
| 사전조건 | 다중 페이지 문서 존재 |

**테스트 절차:**
1. 페이지 썸네일 클릭
2. 페이지 번호 버튼 클릭

**예상 결과:**
- 선택한 페이지로 이동
- 현재 페이지 표시 강조
- 페이지 번호 표시 (n / total)

---

### TC-UI-VIEW-004: 블록 오버레이 표시

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-VIEW-004 |
| 테스트명 | OCR 블록 오버레이 |
| 우선순위 | High |
| 사전조건 | OCR 처리된 문서 |

**테스트 절차:**
1. "블록 표시" 토글 활성화
2. 블록 오버레이 확인
3. 블록 클릭

**예상 결과:**
- 각 텍스트 블록 영역 표시
- 블록 타입별 색상 구분:
  - 텍스트: 파란색
  - 헤더: 보라색
  - 테이블: 녹색
  - 리스트: 주황색
- 블록 클릭 시 해당 텍스트 하이라이트

---

### TC-UI-VIEW-005: 블록 선택 및 편집 연동

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-VIEW-005 |
| 테스트명 | 블록 선택 시 텍스트 에디터 연동 |
| 우선순위 | High |
| 사전조건 | 블록 오버레이 활성화 |

**테스트 절차:**
1. 이미지 뷰어에서 블록 클릭
2. 텍스트 편집기 확인

**예상 결과:**
- 해당 블록 텍스트로 스크롤
- 텍스트 하이라이트
- 양방향 연동

---

## 6. 텍스트 편집기 테스트

### TC-UI-EDIT-001: OCR 텍스트 표시

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-EDIT-001 |
| 테스트명 | OCR 결과 텍스트 표시 |
| 우선순위 | Critical |
| 사전조건 | OCR 처리된 문서 |

**테스트 절차:**
1. 문서 상세 페이지 접속
2. 텍스트 편집기 패널 확인

**예상 결과:**
- OCR 텍스트 정상 표시
- 블록 단위 구분
- 읽기 쉬운 포맷

---

### TC-UI-EDIT-002: 텍스트 편집

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-EDIT-002 |
| 테스트명 | OCR 텍스트 수정 |
| 우선순위 | High |
| 사전조건 | 편집 가능한 문서 |

**테스트 절차:**
1. 텍스트 블록 클릭
2. 텍스트 수정
3. 저장 버튼 클릭

**예상 결과:**
- 인라인 편집 가능
- 변경사항 하이라이트
- 저장 성공 메시지

---

### TC-UI-EDIT-003: 블록 정보 표시

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-EDIT-003 |
| 테스트명 | 블록 메타정보 표시 |
| 우선순위 | Medium |
| 사전조건 | 블록 선택 상태 |

**테스트 절차:**
1. 블록 선택
2. 메타정보 패널 확인

**예상 결과:**
- 블록 타입 표시
- 신뢰도 점수 표시
- 위치 정보 (bbox)

---

## 7. 큐 모니터링 테스트

### TC-UI-QUEUE-001: 큐 상태 표시

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-QUEUE-001 |
| 테스트명 | OCR 큐 상태 표시 |
| 우선순위 | High |
| 사전조건 | - |

**테스트 절차:**
1. /queue 페이지 접속
2. 각 큐 상태 확인

**예상 결과:**
- 3개 큐 표시 (FAST, ACCURATE, PRECISION)
- 각 큐별 대기 작업 수
- Worker 상태

---

### TC-UI-QUEUE-002: 실시간 업데이트

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-QUEUE-002 |
| 테스트명 | 큐 상태 실시간 업데이트 |
| 우선순위 | Medium |
| 사전조건 | 처리 중인 작업 존재 |

**테스트 절차:**
1. 큐 페이지 열기
2. 새 문서 업로드 (다른 탭에서)
3. 큐 상태 변경 확인

**예상 결과:**
- 폴링 또는 WebSocket으로 업데이트
- 카운트 자동 갱신

---

## 8. 반응형 디자인 테스트

### TC-UI-RESP-001: 데스크톱 레이아웃

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-RESP-001 |
| 테스트명 | 데스크톱 (1920x1080) 레이아웃 |
| 우선순위 | High |
| 사전조건 | - |

**테스트 절차:**
1. 1920x1080 해상도로 브라우저 설정
2. 각 페이지 레이아웃 확인

**예상 결과:**
- 풀 레이아웃 표시
- 사이드바 표시
- 3-column 레이아웃 (문서 상세)

---

### TC-UI-RESP-002: 태블릿 레이아웃

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-RESP-002 |
| 테스트명 | 태블릿 (768px) 레이아웃 |
| 우선순위 | Medium |
| 사전조건 | - |

**테스트 절차:**
1. 768px 너비로 브라우저 설정
2. 각 페이지 레이아웃 확인

**예상 결과:**
- 반응형 레이아웃 적용
- 일부 컬럼 축소 또는 탭 전환

---

### TC-UI-RESP-003: 모바일 레이아웃

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-RESP-003 |
| 테스트명 | 모바일 (375px) 레이아웃 |
| 우선순위 | Low |
| 사전조건 | - |

**테스트 절차:**
1. 375px 너비로 브라우저 설정
2. 각 페이지 레이아웃 확인

**예상 결과:**
- 모바일 친화적 레이아웃
- 햄버거 메뉴
- 터치 친화적 버튼 크기

---

## 9. 접근성 테스트

### TC-UI-A11Y-001: 키보드 네비게이션

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-A11Y-001 |
| 테스트명 | 키보드로 전체 기능 사용 |
| 우선순위 | Medium |
| 사전조건 | - |

**테스트 절차:**
1. Tab 키로 포커스 이동
2. Enter 키로 버튼 클릭
3. 폼 필드 입력

**예상 결과:**
- 모든 인터랙티브 요소 Tab 접근 가능
- 포커스 표시 명확
- Enter/Space로 활성화

---

### TC-UI-A11Y-002: 스크린 리더 호환

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-A11Y-002 |
| 테스트명 | 스크린 리더 호환성 |
| 우선순위 | Low |
| 사전조건 | 스크린 리더 설치 |

**테스트 절차:**
1. 스크린 리더 활성화
2. 페이지 탐색

**예상 결과:**
- 적절한 ARIA 레이블
- 이미지 alt 텍스트
- 헤딩 구조

---

## 10. 에러 처리 테스트

### TC-UI-ERR-001: API 에러 표시

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-ERR-001 |
| 테스트명 | API 에러 시 사용자 피드백 |
| 우선순위 | High |
| 사전조건 | Backend 중지 |

**테스트 절차:**
1. Backend 서비스 중지
2. 문서 목록 페이지 접속

**예상 결과:**
- 에러 메시지 표시
- 재시도 버튼
- 크래시 없음

---

### TC-UI-ERR-002: 404 페이지

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-ERR-002 |
| 테스트명 | 존재하지 않는 페이지 처리 |
| 우선순위 | Medium |
| 사전조건 | - |

**테스트 절차:**
1. http://localhost:3000/nonexistent 접속

**예상 결과:**
- 404 에러 페이지 표시
- 홈으로 돌아가기 링크

---

### TC-UI-ERR-003: 존재하지 않는 문서

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-ERR-003 |
| 테스트명 | 존재하지 않는 문서 접근 |
| 우선순위 | High |
| 사전조건 | - |

**테스트 절차:**
1. http://localhost:3000/documents/99999 접속

**예상 결과:**
- "문서를 찾을 수 없습니다" 메시지
- 목록으로 돌아가기 버튼

---

## 11. 브라우저 호환성 테스트

### TC-UI-BROWSER-001: Chrome 호환성

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-BROWSER-001 |
| 테스트명 | Chrome 브라우저 호환성 |
| 우선순위 | Critical |
| 사전조건 | Chrome 최신 버전 |

**테스트 절차:**
1. Chrome에서 모든 페이지 접속
2. 모든 기능 테스트

**예상 결과:**
- 모든 기능 정상 동작
- 레이아웃 정상

---

### TC-UI-BROWSER-002: Firefox 호환성

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-BROWSER-002 |
| 테스트명 | Firefox 브라우저 호환성 |
| 우선순위 | High |
| 사전조건 | Firefox 최신 버전 |

**테스트 절차:**
1. Firefox에서 모든 페이지 접속
2. 모든 기능 테스트

**예상 결과:**
- 모든 기능 정상 동작

---

### TC-UI-BROWSER-003: Safari 호환성

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-BROWSER-003 |
| 테스트명 | Safari 브라우저 호환성 |
| 우선순위 | Medium |
| 사전조건 | Safari 최신 버전 |

**테스트 절차:**
1. Safari에서 모든 페이지 접속
2. 모든 기능 테스트

**예상 결과:**
- 모든 기능 정상 동작

---

## 12. 성능 테스트

### TC-UI-PERF-001: 초기 로딩 시간

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-PERF-001 |
| 테스트명 | 페이지 초기 로딩 시간 |
| 우선순위 | High |
| 목표 | < 3초 |

**테스트 절차:**
1. 개발자 도구 네트워크 탭 열기
2. 페이지 새로고침 (캐시 비우기)
3. DOMContentLoaded 시간 확인

**예상 결과:**
- DOMContentLoaded < 2초
- Load < 3초

---

### TC-UI-PERF-002: 이미지 로딩 최적화

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-PERF-002 |
| 테스트명 | 문서 이미지 로딩 성능 |
| 우선순위 | High |
| 목표 | < 2초/이미지 |

**테스트 절차:**
1. 문서 상세 페이지 접속
2. 이미지 로딩 시간 측정

**예상 결과:**
- 이미지 로딩 < 2초
- 로딩 인디케이터 표시

---

## 13. E2E 테스트 시나리오

### TC-UI-E2E-001: 전체 업로드-OCR-검토 플로우

| 항목 | 내용 |
|------|------|
| 테스트 ID | TC-UI-E2E-001 |
| 테스트명 | 전체 사용자 플로우 |
| 우선순위 | Critical |
| 사전조건 | 모든 서비스 실행 중 |

**테스트 절차:**
1. 메인 페이지 접속
2. PDF 파일 업로드
3. OCR 모드 선택 (기본)
4. 업로드 완료 대기
5. 문서 목록에서 문서 확인
6. 문서 클릭하여 상세 페이지 이동
7. OCR 처리 완료 대기
8. 이미지 뷰어에서 문서 확인
9. 블록 선택 및 텍스트 확인
10. 텍스트 수정 및 저장

**예상 결과:**
- 모든 단계 정상 완료
- 데이터 일관성 유지

---

## 14. Playwright 테스트 스크립트

```typescript
// tests/e2e/document-flow.spec.ts
import { test, expect } from '@playwright/test';

test.describe('Document Upload Flow', () => {
  test('should upload and process document', async ({ page }) => {
    // 1. 메인 페이지 접속
    await page.goto('http://localhost:3000');
    await expect(page).toHaveTitle(/PBT OCR/);

    // 2. 파일 업로드
    const fileInput = page.locator('input[type="file"]');
    await fileInput.setInputFiles('./test-data/sample.pdf');

    // 3. OCR 모드 선택
    await page.click('text=기본(CPU)');

    // 4. 업로드 버튼 클릭
    await page.click('button:has-text("업로드")');

    // 5. 업로드 완료 대기
    await expect(page.locator('text=업로드 완료')).toBeVisible({ timeout: 10000 });

    // 6. 문서 목록 이동
    await page.click('text=문서 목록');

    // 7. 업로드된 문서 확인
    await expect(page.locator('text=sample.pdf')).toBeVisible();
  });

  test('should view document details', async ({ page }) => {
    await page.goto('http://localhost:3000/documents');

    // 첫 번째 문서 클릭
    await page.click('.document-card:first-child');

    // 이미지 뷰어 확인
    await expect(page.locator('.page-viewer img')).toBeVisible();

    // 텍스트 편집기 확인
    await expect(page.locator('.text-editor')).toBeVisible();
  });
});
```

---

## 15. 자동화 테스트 실행

```bash
#!/bin/bash
# Frontend 테스트 실행 스크립트

echo "=== Frontend 테스트 시작 ==="

# 1. 개발 서버 상태 확인
echo "[1/4] Frontend 서버 상태 확인..."
curl -s -o /dev/null -w "%{http_code}" http://localhost:3000

# 2. 빌드 테스트
echo "[2/4] 빌드 테스트..."
cd frontend && npm run build

# 3. Lint 테스트
echo "[3/4] Lint 테스트..."
npm run lint

# 4. E2E 테스트
echo "[4/4] E2E 테스트..."
npx playwright test

echo "=== Frontend 테스트 완료 ==="
```
